---
title: 排查在 Azure Active Directory 中添加或删除应用程序时遇到的常见问题
description: 排查用户在 Azure Active Directory 中添加或删除应用时遇到的常见问题。
services: active-directory
author: kenwith
manager: daveba
ms.service: active-directory
ms.subservice: app-mgmt
ms.workload: identity
ms.topic: troubleshooting
ms.date: 09/11/2018
ms.author: kenwith
ms.openlocfilehash: dbfc90f01bdd9cc0a831160d06efa1c3952884a2
ms.sourcegitcommit: d49bd223e44ade094264b4c58f7192a57729bada
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/02/2021
ms.locfileid: "99257663"
---
# <a name="troubleshoot-common-problem-adding-or-removing-an-application-to-azure-active-directory"></a>排查在 Azure Active Directory 中添加或删除应用程序时遇到的常见问题
本文帮助你了解用户在 Azure Active Directory 中添加或删除应用时遇到的常见问题。

## <a name="i-clicked-the-add-button-and-my-application-took-a-long-time-to-appear"></a>单击“添加”按钮后，应用程序要很长时间才显示
某些情况下，将应用程序添加到目录后，可能需要 1-2 分钟（有时更久）才会显示该应用程序。 尽管这不是正常的预期结果，但通过单击 [Azure 门户](https://portal.azure.com/)右上角的“通知”图标（铃铛），并查找标签为“添加应用程序”的“正在进行中”或“已完成”通知，可以看到应用程序添加正在进行中。

如果应用程序未成功添加，或在单击“添加”按钮时遇到错误，将看到一个处于“错误”状态的 **通知**。 如果想要了解有关错误的详细信息或将其与支持工程师共享，请按照[如何查看门户通知的详细信息](#how-to-see-the-details-of-a-portal-notification)部分中的步骤进行操作。

## <a name="i-clicked-the-add-button-and-my-application-didnt-appear"></a>单击"添加"按钮后，应用程序未显示
有时，由于暂时性问题、网络问题或 bug，添加应用程序会失败。 如果单击 Azure 门户右上角的“通知”图标（铃铛）后，看到“添加应用程序”通知旁边有一个红色的 (!) 图标，则说明添加失败。 这表明创建应用程序时出现了错误。

如果单击“添加”按钮时遇到错误，将看到一个处于“错误”状态的 **通知**。 如果想要了解有关错误的详细信息或将其与支持工程师共享，请按照[如何查看门户通知的详细信息](#how-to-see-the-details-of-a-portal-notification)部分中的步骤进行操作。

## <a name="i-dont-know-how-to-set-up-my-application-once-ive-added-it"></a>添加应用程序后不知道如何进行设置
如果对应用程序的了解有帮助，有关 [如何将 SaaS 应用与 Azure Active Directory 项目集成的教程的列表](../saas-apps/tutorial-list.md) 是一个不错的开端。

除此之外，[Azure AD 应用程序文档库](./what-is-application-management.md)可帮助你详细了解如何使用 Azure AD 进行单一登录及其工作原理。

## <a name="i-want-to-delete-an-application-but-the-delete-button-is-disabled"></a>我要删除应用程序，但“删除”按钮已禁用

在以下情况下，“删除”按钮会被禁用：

- 对于“企业应用程序”下的应用程序，如果你未具有以下角色之一：全局管理员、云应用程序管理员、应用程序管理员或服务主体的所有者。

- 对于 Microsoft 应用程序，无论你具有什么角色，都无法从 UI 中删除这些应用。

- 对于与托管标识对应的服务主体， 无法在“企业应用”边栏选项卡中删除托管标识服务主体。 你需要转到 Azure 资源来管理它。 了解有关[托管标识](../managed-identities-azure-resources/overview.md)的详细信息

## <a name="how-to-see-the-details-of-a-portal-notification"></a>如何查看门户通知的详细信息
可以通过遵循以下步骤来查看任何门户通知的详细信息：
1.  选择 Azure 门户右上角的“通知”图标（铃铛）
2.  选择状态为“错误”的任何通知（旁边有红色的 (!)）。
    >[!NOTE]
    >不能单击状态为“成功”或“正在进行中”的通知。
4.  使用“通知详细信息”下的信息了解有关问题的详细信息。
5.  如果仍需要帮助，还可以与支持工程师或产品组共享此信息以获取有关问题的帮助。
6.  选择“复制错误”文本框右侧的“复制”图标，复制所有通知详细信息，以便将其与支持或产品组工程师共享。

## <a name="how-to-get-help-by-sending-notification-details-to-a-support-engineer"></a>如何通过向支持工程师发送通知详细信息来获取帮助
如果你需要帮助，则与支持工程师共享 **下面列出的所有详细信息** 非常重要，这有助于他们迅速提供帮助。 **捕获屏幕截图** 或选择“复制错误”图标（位于“复制错误”文本框右侧）。

## <a name="notification-details-explained"></a>介绍通知详细信息
有关通知的更多详细信息，请参阅以下说明。

### <a name="essential-notification-items"></a>基本通知项
- **标题** –通知的描述性标题
  * 示例– **应用程序代理设置**
- **说明** -操作结果所发生的情况的说明
  -   示例– **输入的内部 url 已被其他应用程序使用**
- **通知 ID** –通知的唯一 ID
  -   示例– **clientNotification-2adbfc06-2073-4678-a69f-7eb78d96b068**
- **客户端请求 id** –浏览器发出的特定请求 id
  -   示例– **302fd775-3329-4670-a9f3-bea37004f0bc**
- **时间戳 utc** –发生通知的时间戳（utc）
  -   示例– **2017-03-23T19：50： 43.7583681 z**
- **内部事务 id** –可用于在我们的系统中查找错误的内部 ID
  -   示例– **71a2f329-ca29-402f-aa72-bc00a7aca603**
- **UPN** –执行操作的用户
  -   示例– **tperkins \@ f128.info**
- **租户 ID** –执行操作的用户所属的租户的唯一 ID
  -   示例– **7918d4b5-0442-4a97-be2d-36f9f9962ece**
- **用户对象 ID** –执行操作的用户的唯一 ID
  -   示例– **17f84be4-51f8-483a-b533-383791227a99**

### <a name="detailed-notification-items"></a>详细通知项
-   **显示名称** – **（可以为空）** 错误的更详细的显示名称
    -   示例– **应用程序代理设置**
-   **状态** –通知的特定状态
    -   示例– **Failed**
-   **对象 ID** – **（可能为空）** 对其执行了操作的对象 ID
    -   示例– **8e08161d-f2fd-40ad-a34a-a9632d6bb599**
-   **详细信息** -操作导致的操作的详细说明
    -   示例- **内部 url `https://bing.com/` 无效，因为它已在使用中**
-   **复制错误**–选择 "**复制错误**" 文本框右侧的 "**复制" 图标**，复制所有通知详细信息以与支持或产品组共享 
-   工程师
    -   示例 ```{"errorCode":"InternalUrl\_Duplicate","localizedErrorDetails":{"errorDetail":"Internal url 'https://google.com/' is invalid since it is already in use"},"operationResults":\[{"objectId":null,"displayName":null,"status":0,"details":"Internal url 'https://bing.com/' is invalid since it is already in use"}\],"timeStampUtc":"2017-03-23T19:50:26.465743Z","clientRequestId":"302fd775-3329-4670-a9f3-bea37004f0bb","internalTransactionId":"ea5b5475-03b9-4f08-8e95-bbb11289ab65","upn":"tperkins@f128.info","tenantId":"7918d4b5-0442-4a97-be2d-36f9f9962ece","userObjectId":"17f84be4-51f8-483a-b533-383791227a99"}```
