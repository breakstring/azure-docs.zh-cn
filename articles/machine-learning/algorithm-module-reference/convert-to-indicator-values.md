---
title: 转换为指示器值
titleSuffix: Azure Machine Learning
description: 使用 Azure 机器学习设计器中的 "转换为指示器值" 模块将分类列转换为一系列二进制指示器列。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/11/2020
ms.openlocfilehash: 81b3c113f46428327842c1555fdd1934e9ae8762
ms.sourcegitcommit: 7cc10b9c3c12c97a2903d01293e42e442f8ac751
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/06/2020
ms.locfileid: "93420846"
---
# <a name="convert-to-indicator-values"></a>转换为指示器值
本文介绍 Azure 机器学习设计器的某个模块。

使用 Azure 机器学习中的“转换为指示器值”模块可将包含分类值的列转换为一系列二元指示器列。  

此模块还会输出用于转换为指示器值的转换的定义。 可以使用[应用转换](apply-transformation.md)模块，对采用相同架构的其他数据集重复使用此转换。

## <a name="how-to-configure-convert-to-indicator-values"></a>如何配置“转换为指示器值”

1.  找到“转换为指示器值”并将其拖到管道草图中。 可以在“数据转换”类别下找到此模块。
    > [!NOTE]
    > 在使用“转换为指示器值”模块之前，可以先使用[编辑元数据](edit-metadata.md)模块将目标列标记为分类。

1. 将“转换为指示器值”模块连接到包含要转换的列的数据集。 

1. 选择“编辑列”以选择一个或多个分类列。

1. 如果你 **只想** 输出新的布尔值列，请选择“覆盖分类列”选项。 此选项默认已关闭。
    

    > [!TIP]
    >  选择覆盖选项不会真正删除或修改源列。 而是生成新列并在输出数据集中提供新列，而源列仍会在工作区中提供。 如果需要查看原始数据，随时可以使用[添加列](add-columns.md)模块加回源列。

1. 提交管道。

## <a name="results"></a>结果

假设某个列的评分指示服务器出现故障的概率是高、中还是低。  

| 服务器 ID | 故障评分 |
| --------- | ------------- |
| 10301     | 低           |
| 10302     | 中型        |
| 10303     | 高          |

应用“转换为指示器值”时，设计器会将单个标签列转换为包含布尔值的多个列：  

| 服务器 ID | 故障评分 - 低 | 故障评分 - 中 | 故障评分 - 高 |
| --------- | ------------------- | ---------------------- | -------------------- |
| 10301     | 1                   | 0                      | 0                    |
| 10302     | 0                   | 1                      | 0                    |
| 10303     | 0                   | 0                      | 1                    |

下面是转换的工作原理：  

-   在描述风险的“故障评分”列中，只有三个可能的值（“高”、“中”和“低”），不存在缺失值。 因此，正好创建了三个新列。  

-   新指示器列使用以下模式根据源列的列标题和值命名：\<source column>- \<data value>。  

-   应该只有一个指示器列包含评分 1，所有其他指示器列中的评分为 0，因为每台服务器只能有一种风险评级。  

现在，可以在机器学习模型中使用这三个指示器列作为特征。

模块将返回两个输出：

- **结果数据集** ：包含转换的指示器值列的数据集。 也会“传递”未选择进行清理的列。
- **指示器值转换** ：用于转换为指示器值的数据转换，这些值可以保存在工作区中，并在以后应用于新数据。

## <a name="apply-a-saved-indicator-values-operation-to-new-data"></a>将保存的指示器值操作应用于新数据

如果需要经常重复指示器值操作，可将数据操作步骤保存为转换，以便对同一数据集重复使用它。 如果必须经常重新导入并清理采用相同架构的数据，则这种做法非常有效。

1. 将 [应用转换](apply-transformation.md)模块添加到管道。

1. 添加要清理的数据集，并将该数据集连接到右侧输入端口。

1. 在设计器的左侧窗格中展开“数据转换”组。 找到已保存的转换，并将其拖放到管道中。

1. 将已保存的转换连接到[应用转换](apply-transformation.md)的左侧输入端口。

   应用保存的转换时，无法选择要转换的列。 这是因为该转换已定义，会自动应用到原始操作中指定的数据类型。

1. 提交管道。
 
## <a name="technical-notes"></a>技术说明  

本部分包含实现详情、使用技巧和常见问题解答。

### <a name="usage-tips"></a>使用提示

-   只能将标记为分类的列转换为指示器列。 如果看到以下错误，原因可能是选择的某个列不是分类列：  

     错误 0056：名称为 \<column name> 的列不是允许的类别。  

     默认情况下，大多数字符串列将作为字符串特征进行处理，因此必须使用[编辑元数据](edit-metadata.md)将其显式标记为分类。  

-   可以转换为指示器列的列数没有限制。 但是，由于每个值列可以产生多个指示器列，因此你可能希望每次只转换和检查几个列。  

-   如果该列包含缺失值，则会为缺失的类别单独创建一个名称为“\<source column>- Missing”的指示器列  

-   如果要转换为指示器值的列包含数字，则必须将其标记为分类，如同转换任何其他特征列一样。 完成此操作后，数字将被视为离散值。 例如，如果某个数字列的 MPG 值范围为 25 到 30，则会为每个离散值创建一个新的指示器列：  

    | 制造商       | Highway mpg -25 | Highway mpg -26 | Highway mpg -27 | Highway mpg -28 | Highway mpg -29 | Highway mpg -30 |
    | ---------- | --------------- | --------------- | --------------- | --------------- | --------------- | --------------- |
    | Contoso Cars | 0               | 0               | 0               | 0               | 0               | 1               |

- 避免在数据集中添加过多的维度。 建议先检查列中的值数，然后相应地将数据装箱或量化。  


## <a name="next-steps"></a>后续步骤

请参阅 Azure 机器学习的[可用模块集](module-reference.md)。 
