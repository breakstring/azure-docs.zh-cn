---
title: 确定应用程序类型-超大规模 (Citus) -Azure Database for PostgreSQL
description: 确定应用程序的有效分布式数据建模
author: jonels-msft
ms.author: jonels
ms.service: postgresql
ms.subservice: hyperscale-citus
ms.topic: conceptual
ms.date: 07/17/2020
ms.openlocfilehash: 92333857177d33307d6997bfcbdf79787d3ab127
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/09/2020
ms.locfileid: "90895949"
---
# <a name="determining-application-type"></a>确定应用程序类型

若要对超大规模 (Citus) 服务器组运行高效查询，需要在服务器之间正确分配表。 建议的分发因应用程序的类型和查询模式而异。

在超大规模 (Citus) 上，可以很好地处理两种应用程序。 数据建模的第一步是确定与您的应用程序更密切的数据建模。

## <a name="at-a-glance"></a>概览

| 多租户应用程序                                 | Real-Time 应用程序                                |
|-----------------------------------------------------------|-------------------------------------------------------|
| 有时，架构中有数十个或数百个表          | 少量表                                |
| 一次与一个租户 (公司/存储) 相关的查询 | 具有聚合的相对简单的分析查询 |
| 用于为 web 客户端提供服务的 OLTP 工作负荷                    | 大多数不可变数据的引入量           |
| 为每个租户分析查询提供服务的 OLAP 工作负荷   | 通常围绕大型事件表居中            |

## <a name="examples-and-characteristics"></a>示例和特征

**多租户应用程序**

> 这些是服务于其他公司、帐户或组织的 SaaS 应用程序。 大多数 SaaS 应用程序本质上是关系的。 它们具有用于在节点上分布数据的自然维度：只需按租户 \_ id 分片。
>
> 超大规模 (Citus) 使你能够将数据库扩展到数百万个租户，无需重新设计应用程序。 您可以保留所需的关系语义，如联接、外键约束、事务、ACID 和一致性。
>
> -   **示例**：为其他公司（如数字营销解决方案）或销售自动化工具托管商店内容的网站。
> -   **特征**：与单个租户相关的查询，而不是跨租户联接信息。 这包括为 web 客户端提供服务的 OLTP 工作负荷，以及为每个租户分析查询提供服务的 OLAP 工作负荷。 在数据库架构中具有数十个或数百个表也是多租户数据模型的指标。
>
> 使用超大规模 (Citus) 缩放多租户应用程序时，还需要对应用程序代码进行少量更改。 我们支持 Ruby on Rails 和 Django 等常用框架。

**实时分析**

> 需要大规模并行的应用程序，可协调数百个核心以便快速生成数字、统计或计数查询。  通过跨多个节点分片和并行化 SQL 查询，超大规模 (Citus) 使你可以在一秒内跨数十亿条记录执行实时查询。
>
> 实时分析数据模型中的表通常按 "用户 \_ id"、"主机 \_ id" 或 "设备 id" 等列进行分布 \_ 。
>
> -   **示例**：面向客户的分析仪表板，需要秒的响应时间。
> -   **特征**：几个表，通常围绕设备、站点或用户事件的大表居中，并且需要大量的主要不可变数据。 相对简单的 (但涉及多个聚合和组 BYs 的计算密集型) 分析查询。

如果你的情况类似于上述任一情况，则下一步是确定如何在服务器组中分片数据。 数据库管理员 \' 选择的分布列需要匹配典型查询的访问模式，以确保性能。

## <a name="next-steps"></a>后续步骤

* 为应用程序中的表[选择分布列](concepts-hyperscale-choose-distribution-column.md)以有效地分发数据
